---
title: Context
description: Useful functions and state available in the core
---

---

## Introduction

The context (or game context) provides access to the underlying state.
It also provides many utility functions that ease game implementation.
The context is typically accessed via the `ctx` parameter in [hooks](/docs/core/config/hooks).

```ts lineNumbers
type Context = GameContext<GameModesType, SymbolsType, UserStateType>

export function onHandleGameFlow(ctx: Context) {
  const reels = ctx.getRandomReelset()
  ctx.drawBoardWithRandomStops(reels)
  //                           type safe! â¤µ
  const scatter = ctx.config.symbols.get("S")!
  const [count] = ctx.countSymbolsOnBoard(scatter)
}
```

Below is a comprehensive list of context methods and properties available in your game implementation.

## Properties

### config

You can access the complete game configuration through the context.
Keep in mind that you **shouldn't do any modifications to your game config** inside your game implementation.

```ts
const config = ctx.config
```

[Further reading](/docs/core/game-context/config)

### services

Services are cohesive function groups that encapsulate and manage specific parts of the game state.
You will use them often when implementing your game.

- [Game Service](/docs/core/game-context/game-service)
- [Data Service](/docs/core/game-context/data-service)
- [Board Service](/docs/core/game-context/board-service)
- [Wallet Service](/docs/core/game-context/wallet-service)
- [RNG Service](/docs/core/game-context/rng-service)

### state

The core game state exposes some underlying state and information about the current simulation.

[Further reading](/docs/core/game-context/state)

## Context Reference

All methods and properties listed below are accessible via `ctx` parameter of the `onHandleGameFlow` hook.

<Callout title="Good to know">
  You might encounter some "mysterious" methods not listed here. Anything not in this doc
  is most likely only intended for internal use and you should better ignore it. It will
  be tidied up in the future.
</Callout>

### config

| Property     | Type                  |
| ------------ | --------------------- |
| `ctx.config` | `readonly GameConfig` |

Readonly access to the game configuration.

[Further reading](/docs/core/config)

### book

| Property         | Type   |
| ---------------- | ------ |
| `ctx.state.book` | `Book` |

[Further reading](/docs/core/game-flow/book-events)

### rng

| Property        | Type                    |
| --------------- | ----------------------- |
| `ctx.state.rng` | `RandomNumberGenerator` |

[Further reading](/docs/core/game-flow/rng)

### userData

| Property             | Type                  |
| -------------------- | --------------------- |
| `ctx.state.userData` | `Record<string, any>` |

[Further reading](/docs/core/config/custom-state)

### wallet

| Property     | Type     |
| ------------ | -------- |
| `ctx.wallet` | `Wallet` |

[Further reading](/docs/core/game-flow/wallet)

### symbols

| Property             | Type                      |
| -------------------- | ------------------------- |
| `ctx.config.symbols` | `Map<string, GameSymbol>` |

#### Usage [!toc]

```ts
const wild = config.symbols.get("W")!
```

[Further reading](/docs/core/config/symbols)

### currentGameMode

| Property                    | Type     |
| --------------------------- | -------- |
| `ctx.state.currentGameMode` | `string` |

The name of the current game mode.

### currentSpinType

| Property                    | Type       |
| --------------------------- | ---------- |
| `ctx.state.currentSpinType` | `SpinType` |

The name of the current spin type.

A list of all spin types is available through the static property `SPIN_TYPE` of the `GameConfig` class.

### currentResultSet

| Property                     | Type        |
| ---------------------------- | ----------- |
| `ctx.state.currentResultSet` | `ResultSet` |

The current [ResultSet](/docs/core/config/result-sets) for the active simulation.

### currentFreespinAmount

| Property                          | Type     |
| --------------------------------- | -------- |
| `ctx.state.currentFreespinAmount` | `number` |

Number of remaining free spins.

### totalFreespinAmount

| Property                        | Type     |
| ------------------------------- | -------- |
| `ctx.state.totalFreespinAmount` | `number` |

Total amount of free spins awarded during the active simulation.

### triggeredMaxWin

| Property                    | Type      |
| --------------------------- | --------- |
| `ctx.state.triggeredMaxWin` | `boolean` |

Whether a max win was triggered. This is set automatically when a max win is reached.

### triggeredFreespins

| Property                       | Type      |
| ------------------------------ | --------- |
| `ctx.state.triggeredFreespins` | `boolean` |

Whether free spins were triggered. This is set automatically when `ctx.awardFreespins()` is called.

